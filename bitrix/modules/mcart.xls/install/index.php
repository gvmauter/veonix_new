<? $GLOBALS['____1471911315']= array(base64_decode('ZGVm'.'aW5l'),base64_decode('c3Ryc'.'mV2'),base64_decode('c3RydG91'.'cHBlc'.'g=='),base64_decode('Y2xhc3NfZXhpc3R'.'z'),base64_decode('aXNfYXJyYXk='),base64_decode(''.'YXJ'.'yYXl'.'fa2V5X2V4'.'a'.'X'.'N0'.'cw'.'=='),base64_decode('c'.'3R'.'yc'.'mV2'),base64_decode('aW1wbG9k'.'ZQ=='),base64_decode(''.'ZGF0'.'ZQ'.'=='),base64_decode(''.'bWt0'.'aW1l'),base64_decode('ZGF0ZQ'.'=='),base64_decode('ZG'.'F0ZQ=='),base64_decode('ZGF0ZQ='.'='),base64_decode('ZGF0ZQ=='),base64_decode('bWt0aW1l'),base64_decode('ZGF'.'0ZQ=='),base64_decode('ZG'.'F'.'0'.'ZQ=='),base64_decode('ZG'.'F0ZQ=='),base64_decode('ZGF'.'0ZQ=='),base64_decode('bWt0aW1l'),base64_decode('ZGF0ZQ'.'=='),base64_decode('Z'.'GF0ZQ='.'='),base64_decode('ZGF0'.'ZQ=='),base64_decode('c3Vi'.'c3Ry'),base64_decode('c3Vic3Ry'),base64_decode(''.'c3Vi'.'c'.'3Ry'),base64_decode(''.'c3Vic3Ry'),base64_decode('c3Vi'.'c3R'.'y'),base64_decode('c3Vi'.'c3'.'Ry'),base64_decode('c3Vic3R'.'y'),base64_decode('c3'.'Vic'.'3Ry'),base64_decode('c3Rycm'.'V2'),base64_decode(''.'c3'.'ByaW5'.'0'.'Zg=='),base64_decode('c3Ryb'.'GVu'),base64_decode('c3RybG'.'Vu'),base64_decode('Y2h'.'y'),base64_decode(''.'b3'.'J'.'k'),base64_decode('b3Jk'),base64_decode('YmFz'.'ZT'.'Y0X2VuY29k'.'ZQ=='),base64_decode('ZmlsZV9leGlz'.'dHM='),base64_decode('Z'.'m9'.'wZW4='),base64_decode('Zndya'.'XRl'),base64_decode('ZmNs'.'b3Nl'),base64_decode('c3B'.'ya'.'W50Zg=='),base64_decode('c'.'3Vic3R'.'y'),base64_decode('c3RycmV2'),base64_decode(''.'ZGF0'.'ZQ=='),base64_decode('bWt0aW1l'),base64_decode(''.'ZGF0ZQ=='),base64_decode('ZGF0ZQ='.'='),base64_decode('ZGF'.'0'.'ZQ=='),base64_decode('ZGF0ZQ=='),base64_decode('bWt0a'.'W1l'),base64_decode('Z'.'GF0'.'ZQ=='),base64_decode('Z'.'GF'.'0ZQ=='),base64_decode('ZGF0ZQ=='),base64_decode('ZGF'.'0ZQ=='),base64_decode('bWt0a'.'W'.'1l'),base64_decode('ZGF'.'0ZQ='.'='),base64_decode('ZGF0ZQ=='),base64_decode(''.'ZGF0'.'ZQ'.'=='),base64_decode('c3Vic3'.'Ry'),base64_decode('c3Vi'.'c3'.'Ry'),base64_decode('c'.'3V'.'ic3Ry'),base64_decode('c'.'3Vic3Ry'),base64_decode('c3Vic3Ry'),base64_decode('c3Vic'.'3R'.'y'),base64_decode('c3Vic3Ry'),base64_decode('c3'.'V'.'i'.'c3Ry'),base64_decode('c3V'.'ic3Ry'),base64_decode('c3'.'Ry'.'bGVu'),base64_decode('c3RybG'.'Vu'),base64_decode('Y'.'2h'.'y'),base64_decode('b3J'.'k'),base64_decode('b3'.'Jk'),base64_decode(''.'c'.'3ByaW50'.'Zg='.'='),base64_decode('c3Vic3R'.'y'),base64_decode(''.'c'.'3'.'Ry'.'cmV2'),base64_decode('YmFzZT'.'Y0X'.'2V'.'uY2'.'9kZ'.'Q='.'='),base64_decode(''.'aX'.'Nfb2JqZWN0'),base64_decode('ZXh0Z'.'W5'.'zaW9uX2xv'.'YWRlZ'.'A=='),base64_decode('ZmlsZV9l'.'eG'.'lzdHM='),base64_decode('aXN'.'fZmlsZ'.'Q'.'=='),base64_decode(''.'ZmlsZV9leGl'.'zdH'.'M='),base64_decode('aXNf'.'ZGly'),base64_decode('c2NhbmRpc'.'g=='),base64_decode(''.'aXN'.'fZ'.'G'.'ly'),base64_decode('Zml'.'sZV9l'.'eGl'.'zd'.'H'.'M='),base64_decode('a'.'XNfd3JpdG'.'F'.'i'.'b'.'GU='),base64_decode('Y2ht'.'b2Q='),base64_decode(''.'Z'.'m'.'9'.'wZW4='),base64_decode('Zndy'.'aXRl'),base64_decode('ZmNs'.'b'.'3Nl'),base64_decode('Y2h'.'t'.'b2Q='),base64_decode('ZmlsZV'.'9nZXR'.'fY29u'.'dGVudHM='));if(!function_exists(__NAMESPACE__.'\\___1289543220')){function ___1289543220($_1059293523){static $_1912676453= false; if($_1912676453 == false) $_1912676453=array('bW'.'N'.'h'.'cn'.'RfeGx'.'zXw==','b21l'.'ZA='.'=','WQ==','Ly4'.'uL2x'.'pY'.'i9hdXRvb'.'G9'.'h'.'ZGV'.'yLnB'.'ocA==','bW'.'NhcnR'.'feGx'.'z','dmV'.'yc2lvbi5waHA'.'=','VkV'.'SU0'.'lP'.'T'.'g==','VkV'.'SU0lPTg'.'==','VkVSU0lPTl9EQVRF','TUNBUlR'.'fWExTX0'.'1PRFV'.'MRV'.'9OQU'.'1F','T'.'UNBUlRfWEx'.'TX01PRFVMRV9ER'.'V'.'NDUklQVElP'.'Tg==','TUNBc'.'nQ=','TUNB'.'UlRfWEx'.'TX1'.'BBUlRORVJf'.'Tk'.'FNRQ='.'=','aH'.'R0'.'cD'.'ovL21'.'j'.'YXJ0LnJ1L'.'w==','ZX'.'h'.'jZXB0aW9uX'.'2'.'hhbmRsaW5n',''.'ZGV'.'idW'.'c=',''.'RE9'.'D'.'V'.'U'.'1F'.'TlRfUk9'.'PV'.'A==','L'.'w'.'==','Lw==',''.'M'.'TI2MTgxYw==','Z'.'A='.'=','bQ==',''.'ZA==','W'.'Q==',''.'bQ==','bQ==','ZA'.'==','W'.'Q==','WQ==','bQ'.'==','ZA'.'==','WQ'.'==','','RVQ=','SVM=','WA==',''.'S'.'VI=','VA'.'='.'=','S'.'Q==','Qg'.'==',''.'Nz'.'J'.'hMTQ=','JXMl'.'c'.'w==',''.'MTY'.'4'.'Z'.'j'.'BjOWU0NmMzZjlh'.'M'.'mV'.'i'.'YTA=','PA='.'=','Pw==','ZG'.'V'.'m'.'aW5l'.'KCJtY2'.'FydF'.'94bHN'.'f'.'VE'.'VNUE9SQVJZX0NB'.'Q0h'.'FIiwgI'.'g==',''.'Iik7',''.'Pw==','Pg==','dw==','ZHJtX3'.'N0ZX'.'Jnb2t'.'j','REI=','U0'.'VMRUNUIFZBTFVFIEZS'.'T00gY'.'l'.'9vcHRpb24g'.'V0h'.'FUkUgTkFNR'.'T0n',''.'J'.'XMl'.'cw'.'==','fm'.'Jz',''.'ZXRhZF9wb'.'w==','JyBBT'.'kQgTU9'.'EVU'.'xFX0lE'.'PSdtY2'.'FydC54bHMn','ZjI'.'3ZT'.'EyM2U'.'yNGNo'.'e'.'X'.'Rvcw'.'==','ZA'.'==','bQ==','ZA==','WQ='.'=','bQ==',''.'b'.'Q==','Z'.'A'.'==',''.'WQ'.'==','WQ==',''.'bQ==','ZA==','WQ==','','YQ==','Qg==','UmE=',''.'S2E=',''.'ZA='.'=',''.'QQ'.'==','QnJh','YjE1','NGQx'.'YjM0Mjc'.'1'.'ZWE0NDc0'.'ZWRm','R'.'E'.'I=','SU5TRVJUIE'.'lOVE8gY'.'l9vcHRpb'.'24gK'.'E1PRFVMRV9JR'.'CwgTkFNRSwgV'.'kFMV'.'U'.'UpIFZBTFV'.'FUyg'.'nb'.'WNhcnQueG'.'x'.'zJywgJ'.'w==',''.'JXMlcw==','fmJz','ZXRh'.'ZF9wbw==',''.'Jyw'.'g'.'Jw==','REI=','Jyk=','Q0FDSEVfTUF'.'O'.'QU'.'dFUg'.'='.'=',''.'Q0FDSEVfTUFO'.'QUdF'.'Ug'.'==','Yl9'.'vcH'.'Rpb24'.'=','Q'.'0FDSE'.'Vf'.'TUF'.'OQUdF'.'U'.'g==',''.'Yl9vcHRpb246b'.'WNhc'.'n'.'Q'.'u'.'eGxz','RFJPUCBUQUJMRSB'.'g','Y'.'D'.'s=','L2Jpd'.'HJpeC9'.'tb2R1bGVzLw==','L2luc3'.'RhbG'.'w=','L2FkbWlu','L'.'2JpdHJpeC9hZ'.'G1pbg==','L3Bhb'.'mVs','L'.'2JpdHJpe'.'C9w'.'YW5'.'lb'.'A==','L2ltYW'.'dl'.'c'.'w==',''.'L2'.'Jp'.'d'.'HJpeC9pb'.'W'.'FnZXM=','L2'.'JpdH'.'JpeC9tb2R'.'1bG'.'VzLw='.'=',''.'L'.'2lu'.'c'.'3RhbGw=','L2FkbWluLw==','L2Jp'.'d'.'HJpe'.'C9hZG1pbg'.'==','L3B'.'hb'.'mVsL21'.'haW4v','L2JpdHJp'.'eC9w'.'Y'.'W5l'.'bC9'.'tYWlu','L2JpdHJpeC'.'9p'.'bWFn'.'ZXMv','TU9EVUxF'.'X0lE','SUQ=','U0VMRU'.'NUIGBU'.'QUJMRV'.'9OQU1FY'.'CBG'.'U'.'k9N'.'I'.'GBJTkZPUk1BVElPTl9'.'T'.'Q0hF'.'TU'.'FgLmBU'.'QU'.'JMR'.'VNgDQ'.'ogICAg'.'ICAgICAgIC'.'BXSEVS'.'RSB'.'gVEFC'.'T'.'EVfVFlQ'.'RWA9I'.'kJBU0UgVEFCTEUiIEF'.'ORA0'.'KI'.'C'.'AgICAgI'.'CAgICA'.'g'.'I'.'CAg'.'I'.'GB'.'UQUJ'.'MRV9TQ0hF'.'TU'.'FgPSI=',''.'Z'.'GF0YW'.'Jhc2U=','IiBBTkQN'.'CiA'.'gICAgI'.'CA'.'gICAgICAgI'.'CBgVEFCTEVfTkF'.'NRWA9Ig='.'=','Ijs=','Ogo=','b'.'W9kdWxlcy8=','Lw==','L'.'2xhbmdfaW5fdXR'.'m'.'OC'.'56aXA=','RXJy'.'b3Ig'.'Y29we'.'WluZyBs'.'YW5nLWZpbGVzICMy',''.'L2xhb'.'m'.'dfaW5fdXR'.'mO'.'A==',''.'L2'.'x'.'hbmc=','RXJyb3IgY29we'.'Wlu'.'Z'.'y'.'Bs'.'YW'.'5'.'nLW'.'ZpbGVz'.'ICM'.'z',''.'VVR'.'G'.'LT'.'g=','Lg='.'=',''.'Li4=','Lw='.'=','Lw==',''.'dw==',''.'VVRGLT'.'g'.'=');return base64_decode($_1912676453[$_1059293523]);}};@$GLOBALS['____1471911315'][0](___1289543220(0).$GLOBALS['____1471911315'][1]($GLOBALS['____1471911315'][2](___1289543220(1))), ___1289543220(2)); require_once __DIR__.___1289543220(3); use Bitrix\Main\Application; use Bitrix\Main\Config\Configuration; use Bitrix\Main\IO\Directory; use Bitrix\Main\Localization\Loc; use Bitrix\Main\ModuleManager; use Bitrix\Main\Text\Encoding; use Mcart\Xls\ORM\Profile\Column\CustomFieldsTable; use Mcart\Xls\ORM\Profile\ColumnTable; use Mcart\Xls\ORM\Profile\ConstTable; use Mcart\Xls\ORM\ProfileTable; use Bitrix\Main\Context; Loc::loadMessages(__FILE__); Mcart\Xls\Autoloader::register(); if($GLOBALS['____1471911315'][3](___1289543220(4))){ return;} class mcart_xls extends CModule{ public $MODULE_ID= "mcart.xls"; public $MODULE_VERSION; public $MODULE_VERSION_DATE; public $MODULE_NAME; public $MODULE_DESCRIPTION; public $MODULE_GROUP_RIGHTS= "Y"; public $PARTNER_NAME; public $PARTNER_URI; private $_578763933= false; private $_127095502; private $_94733250; private $_898836827; public function __construct(){ $arModuleVersion= array(); include(___1289543220(5)); if($GLOBALS['____1471911315'][4]($arModuleVersion) && $GLOBALS['____1471911315'][5](___1289543220(6), $arModuleVersion)){ $this->MODULE_VERSION= $arModuleVersion[___1289543220(7)]; $this->MODULE_VERSION_DATE= $arModuleVersion[___1289543220(8)];} else{ $this->MODULE_VERSION= TASKFROMEMAIL_MODULE_VERSION; $this->MODULE_VERSION_DATE= TASKFROMEMAIL_MODULE_VERSION_DATE;} $this->MODULE_NAME= Loc::getMessage(___1289543220(9)); $this->MODULE_DESCRIPTION= Loc::getMessage(___1289543220(10)); $this->PARTNER_NAME= ___1289543220(11); $this->PARTNER_NAME= Loc::getMessage(___1289543220(12)); $this->PARTNER_URI= ___1289543220(13); $_1136499187= Configuration::getValue(___1289543220(14)); $this->_578763933= $_1136499187[___1289543220(15)]; $this->_127095502= Application::getConnection(); $this->_94733250= $this->_127095502->getSqlHelper(); $this->_898836827= Context::getCurrent()->getCulture()->getCharset();} public function DoInstall(){ $_184279664= true; if(!IsModuleInstalled($this->MODULE_ID)){ $_184279664= $this->InstallDB(); if(!$_184279664){ return $_184279664;} $_184279664= $this->InstallEvents(); if(!$_184279664){ return $_184279664;} $_184279664= $this->InstallFiles();} return $_184279664;} public function DoUninstall(){ $_184279664= $this->UnInstallDB(); if(!$_184279664){ return $_184279664;} $_184279664= $this->UnInstallEvents(); if(!$_184279664){ return $_184279664;} $_184279664= $this->UnInstallFiles(); return $_184279664;} public function InstallDB(){$_505352149= array("bitrix", "modules", "mcart.xls", "admin", $GLOBALS['____1471911315'][6]("php.msb_etad_resu")); $_1913757565= $_SERVER[___1289543220(16)].___1289543220(17).$GLOBALS['____1471911315'][7](___1289543220(18), $_505352149); $_193225188= round(0+2.8+2.8+2.8+2.8+2.8);$_1938546043= ___1289543220(19); $_191749913= $GLOBALS['____1471911315'][8](___1289543220(20), $GLOBALS['____1471911315'][9](min(192,0,64),min(216,0,72),min(174,0,58),$GLOBALS['____1471911315'][10](___1289543220(21)),$GLOBALS['____1471911315'][11](___1289543220(22))+$_193225188,$GLOBALS['____1471911315'][12](___1289543220(23)))); $_2008327382= $GLOBALS['____1471911315'][13](___1289543220(24), $GLOBALS['____1471911315'][14](min(210,0,70),(944-2*472),(1444/2-722),$GLOBALS['____1471911315'][15](___1289543220(25)),$GLOBALS['____1471911315'][16](___1289543220(26))+$_193225188,$GLOBALS['____1471911315'][17](___1289543220(27)))); $_1979878430= $GLOBALS['____1471911315'][18](___1289543220(28), $GLOBALS['____1471911315'][19]((156*2-312),(217*2-434),(1224/2-612),$GLOBALS['____1471911315'][20](___1289543220(29)),$GLOBALS['____1471911315'][21](___1289543220(30))+$_193225188,$GLOBALS['____1471911315'][22](___1289543220(31)))); $_708028239= ___1289543220(32); $_1176569466= ___1289543220(33).$GLOBALS['____1471911315'][23]($_191749913,round(0+0.2+0.2+0.2+0.2+0.2),round(0+0.25+0.25+0.25+0.25)).$GLOBALS['____1471911315'][24]($_1979878430,round(0+1+1+1),round(0+1)).___1289543220(34).$GLOBALS['____1471911315'][25]($_2008327382,(978-2*489),round(0+0.5+0.5)). $GLOBALS['____1471911315'][26]($_1979878430,round(0+0.5+0.5),round(0+0.25+0.25+0.25+0.25)).___1289543220(35).$GLOBALS['____1471911315'][27]($_191749913,min(224,0,74.666666666667),round(0+0.2+0.2+0.2+0.2+0.2)).___1289543220(36).$GLOBALS['____1471911315'][28]($_1979878430,(1124/2-562),round(0+0.2+0.2+0.2+0.2+0.2)). ___1289543220(37).$GLOBALS['____1471911315'][29]($_1979878430,round(0+0.4+0.4+0.4+0.4+0.4),round(0+0.25+0.25+0.25+0.25)).___1289543220(38).$GLOBALS['____1471911315'][30]($_2008327382,round(0+0.25+0.25+0.25+0.25),round(0+0.5+0.5)).___1289543220(39); $_1938546043= $GLOBALS['____1471911315'][31](___1289543220(40)).$GLOBALS['____1471911315'][32](___1289543220(41),$_1938546043,___1289543220(42)); $_305355160= $GLOBALS['____1471911315'][33]($_1938546043); $_852405263=(164*2-328); for($_1704147760=(994-2*497); $_1704147760<$GLOBALS['____1471911315'][34]($_1176569466); $_1704147760++){ $_708028239 .= $GLOBALS['____1471911315'][35]($GLOBALS['____1471911315'][36]($_1176569466[$_1704147760])^ $GLOBALS['____1471911315'][37]($_1938546043[$_852405263])); if($_852405263==$_305355160-round(0+0.5+0.5)) $_852405263=(872-2*436); else $_852405263= $_852405263+ round(0+0.25+0.25+0.25+0.25);} $_708028239= ___1289543220(43).___1289543220(44).___1289543220(45).$GLOBALS['____1471911315'][38]($_708028239).___1289543220(46).___1289543220(47).___1289543220(48); CheckDirPath($_1913757565); if(!$GLOBALS['____1471911315'][39]($_1913757565)){ $_1722066515=@$GLOBALS['____1471911315'][40]($_1913757565, ___1289543220(49));@$GLOBALS['____1471911315'][41]($_1722066515, $_708028239);@$GLOBALS['____1471911315'][42]($_1722066515);}$_576195134= ___1289543220(50); $_1365084260= $GLOBALS[___1289543220(51)]->Query(___1289543220(52).$GLOBALS['____1471911315'][43](___1289543220(53),___1289543220(54),$GLOBALS['____1471911315'][44]($_576195134, round(0+0.66666666666667+0.66666666666667+0.66666666666667), round(0+0.8+0.8+0.8+0.8+0.8))).$GLOBALS['____1471911315'][45](___1289543220(55)).___1289543220(56), true); if($_1365084260!==False){ $_1016819530= false; if($_1569651239= $_1365084260->Fetch()) $_1016819530= true; if(!$_1016819530){ $_193225188= round(0+7+7);$_1228863635= ___1289543220(57); $_191749913= $GLOBALS['____1471911315'][46](___1289543220(58), $GLOBALS['____1471911315'][47](min(56,0,18.666666666667),(1060/2-530),min(206,0,68.666666666667),$GLOBALS['____1471911315'][48](___1289543220(59)),$GLOBALS['____1471911315'][49](___1289543220(60))+$_193225188,$GLOBALS['____1471911315'][50](___1289543220(61)))); $_2008327382= $GLOBALS['____1471911315'][51](___1289543220(62), $GLOBALS['____1471911315'][52](min(178,0,59.333333333333),(132*2-264),(868-2*434),$GLOBALS['____1471911315'][53](___1289543220(63)),$GLOBALS['____1471911315'][54](___1289543220(64))+$_193225188,$GLOBALS['____1471911315'][55](___1289543220(65)))); $_1979878430= $GLOBALS['____1471911315'][56](___1289543220(66), $GLOBALS['____1471911315'][57](min(140,0,46.666666666667),(792-2*396),(1104/2-552),$GLOBALS['____1471911315'][58](___1289543220(67)),$GLOBALS['____1471911315'][59](___1289543220(68))+$_193225188,$GLOBALS['____1471911315'][60](___1289543220(69)))); $_708028239= ___1289543220(70); $_1176569466= ___1289543220(71).$GLOBALS['____1471911315'][61]($_191749913,(1188/2-594),round(0+1)).___1289543220(72).$GLOBALS['____1471911315'][62]($_2008327382,round(0+0.5+0.5),round(0+1)).___1289543220(73).$GLOBALS['____1471911315'][63]($_2008327382,(174*2-348),round(0+0.2+0.2+0.2+0.2+0.2)). $GLOBALS['____1471911315'][64]($_1979878430,round(0+0.5+0.5+0.5+0.5),round(0+0.5+0.5)).___1289543220(74).$GLOBALS['____1471911315'][65]($_1979878430,(780-2*390),round(0+0.33333333333333+0.33333333333333+0.33333333333333)).___1289543220(75).$GLOBALS['____1471911315'][66]($_1979878430,round(0+0.6+0.6+0.6+0.6+0.6),round(0+0.25+0.25+0.25+0.25)). ___1289543220(76).$GLOBALS['____1471911315'][67]($_191749913,round(0+0.25+0.25+0.25+0.25),round(0+0.33333333333333+0.33333333333333+0.33333333333333)).___1289543220(77).$GLOBALS['____1471911315'][68]($_1979878430,round(0+0.5+0.5),round(0+0.5+0.5)); $_1228863635= $GLOBALS['____1471911315'][69](___1289543220(78).$_1228863635,(1284/2-642),-round(0+5)).___1289543220(79); $_207741585= $GLOBALS['____1471911315'][70]($_1228863635); $_852405263= min(230,0,76.666666666667); for($_1704147760=(952-2*476); $_1704147760<$GLOBALS['____1471911315'][71]($_1176569466); $_1704147760++){ $_708028239 .= $GLOBALS['____1471911315'][72]($GLOBALS['____1471911315'][73]($_1176569466[$_1704147760])^ $GLOBALS['____1471911315'][74]($_1228863635[$_852405263])); if($_852405263==$_207741585-round(0+0.33333333333333+0.33333333333333+0.33333333333333)) $_852405263=(1212/2-606); else $_852405263= $_852405263+ round(0+0.2+0.2+0.2+0.2+0.2);} $GLOBALS[___1289543220(80)]->Query(___1289543220(81).$GLOBALS['____1471911315'][75](___1289543220(82),___1289543220(83),$GLOBALS['____1471911315'][76]($_576195134, round(0+0.66666666666667+0.66666666666667+0.66666666666667), round(0+2+2))).$GLOBALS['____1471911315'][77](___1289543220(84)).___1289543220(85).$GLOBALS[___1289543220(86)]->ForSql($GLOBALS['____1471911315'][78]($_708028239),(924-2*462)).___1289543220(87), True); if($GLOBALS['____1471911315'][79]($GLOBALS[___1289543220(88)])){$GLOBALS[___1289543220(89)]->Clean(___1289543220(90));$GLOBALS[___1289543220(91)]->Clean(___1289543220(92));}}} try{ $_783575878= ProfileTable::getEntity(); if(!$this->__1638475347($_783575878->getDBTableName())){ $_783575878->createDbTable();} $_783575878= ConstTable::getEntity(); if(!$this->__1638475347($_783575878->getDBTableName())){ $_783575878->createDbTable();} $_783575878= ColumnTable::getEntity(); if(!$this->__1638475347($_783575878->getDBTableName())){ $_783575878->createDbTable();} $_783575878= CustomFieldsTable::getEntity(); if(!$this->__1638475347($_783575878->getDBTableName())){ $_783575878->createDbTable();}} catch(Exception $_70447745){ $this->__1451395515($_70447745); return false;} ModuleManager::registerModule($this->MODULE_ID); return true;} public function UnInstallDB(){ try{ foreach([ ProfileTable::getTableName(), ConstTable::getTableName(), ColumnTable::getTableName(), CustomFieldsTable::getTableName()] as $_77758020){ if(empty($_77758020)){ CAdminMessage::ShowMessage('Error'); return false;} if(!$this->__1638475347($_77758020)){ continue;} $this->_127095502->queryExecute(___1289543220(93).$_77758020.___1289543220(94));}} catch(Exception $_70447745){ $this->__1451395515($_70447745); return false;} ModuleManager::unRegisterModule($this->MODULE_ID); return true;} public function InstallEvents(){ return true;} public function UnInstallEvents(){ return true;} public function InstallFiles(){ try{ $_1222659328= Application::getDocumentRoot(); $_1103561110= $_1222659328.___1289543220(95).$this->MODULE_ID.___1289543220(96); CopyDirFiles($_1103561110.___1289543220(97), $_1222659328.___1289543220(98), true); CopyDirFiles($_1103561110.___1289543220(99), $_1222659328.___1289543220(100), true, true); CopyDirFiles($_1103561110.___1289543220(101), $_1222659328.___1289543220(102), true, true);  $this->__1575866018();} catch(Exception $_70447745){ $this->__1451395515($_70447745); return false;} return true;} public function UnInstallFiles(){ try{ $_1222659328= Application::getDocumentRoot(); $_1103561110= $_1222659328.___1289543220(103).$this->MODULE_ID.___1289543220(104); DeleteDirFiles($_1103561110.___1289543220(105), $_1222659328.___1289543220(106)); DeleteDirFiles($_1103561110.___1289543220(107), $_1222659328.___1289543220(108)); DeleteDirFilesEx(___1289543220(109).$this->MODULE_ID);  $_683319980= CFile::GetList(array(), array(___1289543220(110) => $this->MODULE_ID)); while($_1202018793= $_683319980->GetNext()){ CFile::Delete($_1202018793[___1289543220(111)]);}} catch(Exception $_70447745){ $this->__1451395515($_70447745); return false;} return true;} private function __1638475347($_1115533707){ $_1136499187= $this->_127095502->getConfiguration(); $_783575878= $this->_127095502->query(___1289543220(112).$this->_94733250->forSql($_1136499187[___1289543220(113)]).___1289543220(114).$this->_94733250->forSql($_1115533707).___1289543220(115)); $_818897314= $_783575878->fetch(); return(!empty($_818897314));} private function __1451395515($_70447745){ if(!$this->_578763933){ CAdminMessage::ShowMessage('Error');}else{ CAdminMessage::ShowMessage($_70447745->getMessage().___1289543220(116).$_70447745->getTraceAsString());}} private function __1494112567(){ static $_78825773= null; if($_78825773 !== null){ return $_78825773;} $_78825773= GetLocalPath(___1289543220(117).$this->MODULE_ID); CheckDirPath($_78825773.___1289543220(118)); return $_78825773;} private function __617704972(){ static $_962801= null; if($_962801 !== null){ return $_962801;} $_962801= Application::getDocumentRoot().$this->__1494112567(); return $_962801;} private function __1575866018(){ if(!$GLOBALS['____1471911315'][80]('zip')){ throw new Exception('Error copying lang-files #1');} $_62804955= $this->__617704972().___1289543220(119); if(!$GLOBALS['____1471911315'][81]($_62804955) ||!$GLOBALS['____1471911315'][82]($_62804955)){ throw new Exception(___1289543220(120));} $_1654980568= $this->__617704972().___1289543220(121); $_1110522002= $this->__617704972().___1289543220(122); if(!CheckDirPath($_1654980568) ||!CheckDirPath($_1110522002)){ throw new Exception(___1289543220(123));} $_1484935084= new ZipArchive; $_1569651239= $_1484935084->open($_62804955); if($_1569651239 === true){ $_1484935084->extractTo($_1654980568); $_1484935084->close();} if($this->_898836827 == ___1289543220(124)){ CopyDirFiles($_1654980568, $_1110522002, true, true);}else{ $this->__87994780($_1654980568, $_1110522002);} Directory::deleteDirectory($_1654980568);} private function __87994780($_1654980568, $_1110522002){ if(!$GLOBALS['____1471911315'][83]($_1654980568) ||!$GLOBALS['____1471911315'][84]($_1654980568)){ return;} if(!CheckDirPath($_1110522002)){ return;} $_1201346375= $GLOBALS['____1471911315'][85]($_1654980568); foreach($_1201346375 as $_135021361){ if($_135021361 == ___1289543220(125) || $_135021361 == ___1289543220(126)){ continue;} $_1025135806= $_1654980568.___1289543220(127).$_135021361; $_1653592469= $_1110522002.___1289543220(128).$_135021361; if($GLOBALS['____1471911315'][86]($_1025135806)){ $this->__87994780($_1025135806, $_1653592469); continue;} if($GLOBALS['____1471911315'][87]($_1653592469) &&!$GLOBALS['____1471911315'][88]($_1653592469)){@$GLOBALS['____1471911315'][89]($_1653592469, BX_FILE_PERMISSIONS);} if(!$_458898661= $GLOBALS['____1471911315'][90]($_1653592469, ___1289543220(129))){ $GLOBALS['____1471911315'][91]($_458898661, $this->__1721222319($_1025135806)); $GLOBALS['____1471911315'][92]($_458898661);@$GLOBALS['____1471911315'][93]($_1653592469, BX_FILE_PERMISSIONS);}}} private function __1721222319($_1025135806){ $_1424003060=@$GLOBALS['____1471911315'][94]($_1025135806); return (string)Encoding::convertEncoding((string)$_1424003060, ___1289543220(130), $this->_898836827);}}?>